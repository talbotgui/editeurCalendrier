<!-- Filtre -->
<h3>Filtres</h3>
<div class="container-fluid">
	<div class="row">
		<div class="col-3">
			<input matInput [(ngModel)]="filtre.start_date" placeholder="Date de debut" />
		</div>
		<div class="col-3">
			<input matInput [(ngModel)]="filtre.end_date" placeholder="Date de fin" />
		</div>
	</div>
	<div class="row">
		<div class="col-3">
			<input matInput [(ngModel)]="filtre.text" placeholder="Texte" />
		</div>
		<div class="col-3">
			<input matInput [(ngModel)]="filtre.details" placeholder="Détails" />
		</div>
		<div class="col-3">
			<mat-select [(ngModel)]="filtre.type" placeholder="Type d'évènement">
				<mat-option *ngFor="let type of types" [value]="type">{{type}}</mat-option>
			</mat-select>
		</div>
	</div>
</div>

<!-- Liste  -->
<table>
	<thead>
		<tr>
			<th>Début</th>
			<th>end_date</th>
			<th>Type</th>
			<th>Texte</th>
			<th>Détails</th>
			<th>
				<em class="fa fa-plus" matTooltip="Ajouter un évènement" (click)="ajouter()"></em>
			</th>
		</tr>
	</thead>
	<tbody>
		<tr *ngFor="let evenement of evenements; let j = index" (click)="editer(evenement);" [class]="j%2==0 ? 'even' : 'odd'">
			<td>
				<span *ngIf="!(evenement == evenementSelectionne)">{{evenement.start_date}}</span>
				<input *ngIf="(evenement == evenementSelectionne)" matInput [(ngModel)]="evenement.start_date" />
			</td>
			<td>
				<span *ngIf="!(evenement == evenementSelectionne && evenement.type != 'maj')">{{evenement.end_date}}</span>
				<input *ngIf="(evenement == evenementSelectionne && evenement.type != 'maj')" matInput [(ngModel)]="evenement.end_date" />
			</td>
			<td>
				<span *ngIf="!(evenement == evenementSelectionne && evenement.type != 'maj')">{{evenement.type}}</span>
				<mat-select *ngIf="(evenement == evenementSelectionne && evenement.type != 'maj')" [(ngModel)]="evenement.type">
					<mat-option *ngFor="let type of types" [value]="type">{{type}}</mat-option>
				</mat-select>
			</td>
			<td>
				<span *ngIf="!(evenement == evenementSelectionne && evenement.type != 'maj')">{{evenement.text}}</span>
				<input *ngIf="(evenement == evenementSelectionne && evenement.type != 'maj')" matInput [(ngModel)]="evenement.text" />
			</td>
			<td>
				<span *ngIf="!(evenement == evenementSelectionne && evenement.type != 'maj')">{{evenement.details}}</span>
				<input *ngIf="(evenement == evenementSelectionne && evenement.type != 'maj')" matInput [(ngModel)]="evenement.details" />
			</td>
			<td>
				<em *ngIf="!(evenement == evenementSelectionne && evenement.type != 'maj')" class="fa fa-copy" matTooltip="Editer l'évènement"
				 (click)="editer(evenement)"></em>
				<em class="fa fa-remove" matTooltip="Supprimer l'évènement" (click)="supprimer(evenement)"></em>
			</td>
		</tr>
	</tbody>
</table>